Задача. Список элементов IconView

Требуется написать widget, сходный с IconView в Проводнике Windows, со следующими свойствами: 

• Widget представляет из себя прямоугольное поле с элементами на нем 

o Начальные размеры поля задаются в начальной конфигурации widget’а 

• Каждый элемент представляет из себя иконку и текст под ней

o Элементы располагаются слева направо с переносом на следующую строку (при необходимости показываетя вертикальный скроллинг) 

o Все элементы имеют одинаковый внешний размер и размер иконки. Для текста отводится только 1 строка 

o Элементы динамически перегруппируются при изменении ширины поля 

• Непосредственно над полем элементов располагаются 2 кнопки: 

o "Удалить" - удалят выделенные элементы 

o "Выделить/Сбросить" - добавлят выделение на все элементы (если ничего не выделено), или снимает активное выделение (если что-то выделено) 

• Каждый элемент можно выделять (check) и отменять выделение (uncheck) по одинарному щелчку мышкой 

• Управление widget’ом должно осуществляться через прилагаемый интерфейс (см. ниже; возможны небольшие вариации на Ваше усмотрение) 

o Основные функции интерфейса: 

 Добавить (добавляет заданные элементы в конец поля) 

 Удалить (удаляет заданные элементы из поля, в частности, выделенные элементы) 

 Выделить элемент(ы) 

 Снять выделение с элемент(ов) 

o Действия пользователя должны реализовываться через заданные events (Рис. 2) 

Необязательное дополнительное задание: 

• Сделать "бесконечную прокрутку", т.е. когда изначально показана только часть элементов, и каждый раз при скроллинге до упора вниз в поле подгружается определенное количество элементов (до того, пока не отобразятся все элементы, заданные в поле) 


Widget Interface: 

init({ 

   container: <object|objectId>, 

   containerWidth: 300, // in pixels 

   containerHeight: 300, // in pixels 

   itemWidth: 30, // outer size - in pixels 

   itemHeight: 25, // outer size - in pixels 

   items: [ 

     { 

       id: 'item_1', 

       text: 'Item Name 1', 

       img: 'item1.png', 

       checked: false 

     }, 

     ... // more items 

   ], 

   addItems: function(items) { 

   ... 

   }, 

   removeItems: function(itemIds) { 

   ... 

   }, 

   checkItems: function(itemIds) { 

   ... 

   } 

   uncheckItems: function(itemIds) { 

   ... 

   }, 

   events: { 

   clickItem: function(item) { 

   alert('clicked item ' + item.text); 

   if (isSelected(item)) { 

   uncheckItems([item.id]); 

   } 

   ... 

   }, 

   ... 

   } 

});
